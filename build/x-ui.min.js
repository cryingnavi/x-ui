/*! 
 * x-ui Javascript UI FrameWork
 * jQuery Mobile Event Plugin, jQuery Mobile Animation used and iScroll 4 used.
 * 
 * Copyright 2013, 2014 huh young-nam
 * Dual licensed under the MIT or GPL Version 2 licenses
 * 
 * project: x-ui
 * version: 1.0.3
 * repository: git://github.com/cryingnavi/x-ui.git
 * contact: cryingnavi@gmail.com
 * Date: 2014-02-09 12:02 
 */
X={version:"1.0.3"},function(){var a,b=$(window),c=$(document);X.apply=$.extend,X.apply(X,{emptyFn:$.noop,format:function(a){for(var b,c=arguments,d=c.length,e=0;d>e;e++)b=new RegExp("\\{"+e+"\\}","g"),a=a.replace(b,c[e+1]);return a},extend:function(a,b){var c=function(){var a=$.makeArray(arguments);this.initialize.apply(this,a)},d=function(){},e=a.prototype;return d.prototype=e,e.initialize||(e.initialize=X.emptyFn),c.prototype=new d,c.prototype.constructor=c,c.base=e,b&&X.apply(c.prototype,b),c.extend=function(a){var b=this;return X.extend(b,a)},c},type:function(a){var b=$.type(a);return"object"===b&&(a.innerHTML?b="dom":a.jquery&&(b="jquery")),b},getOrientation:function(){var a=window.orientation;return 0===a?"portrait":90===a?"landscape":-90===a?"landscape":"portrait"},getBody:function(b){return a||(a=$("body")),b===!0?document.body:a},getDoc:function(a){return a===!0?document:c},getWindow:function(a){return a===!0?window:b},getWindowSize:function(){var a=this.getWindow();return{width:a.width(),height:a.height()}}}),$.fn.animationComplete=function(a,b){return X.platform.cssAnimataion?$(this).one("webkitAnimationEnd animationend",b,a):(setTimeout(a,0),$(this))},X.platform=function(){function a(){for(var a=["webkit","Moz","o",""],b=a.length,c=(document.documentElement.style,0),d=!1;b>c;c++){d=!0;break}return d}var b=navigator.userAgent.toLowerCase(),c=navigator.platform,d=/iPhone/i.test(c),e=/iPad/i.test(c),f=/iPod/i.test(c),g=/win/i.test(c),h=/mac/i.test(c),i=/linux/i.test(c),j=d||e||f,k=/android/i.test(b),l=parseFloat(b.slice(b.indexOf("android")+8));return{isIos:j,isWindows:g,isMac:h,isLinux:i,isDesktop:g||!k&&i||h,iPod:f,iPhone:d,iPad:e,android:k,androidVersion:l,hasTouch:"ontouchstart"in window,cssAnimataion:a()}}(),X.events=function(){var a=X.platform.hasTouch?!0:!1;return{start:a?"touchstart":"vmousedown",move:a?"touchmove":"vmousemove",end:a?"touchend":"vmouseup",orientationchange:a?"orientationchange":"resize"}}()}(),X.apply(Array.prototype,{remove:function(a,b){var c=this.slice((b||a)+1||this.length);return this.length=0>a?this.length+a:a,this.push.apply(this,c)}}),X.util={},X.util.Observer=X.extend(X.emptyFn,{initialize:function(a){this.eventTypes=this.eventTypes||{};for(var b in a)this.eventTypes[b]=a[b]},addEvent:function(){for(var a=arguments,b=a.length,c=this.eventTypes;b--;)for(var d in a[b])c[d]?"array"===X.type(c[d])?this.eventTypes[d].push(a[b][d]):this.eventTypes[d]=[c[d],a[b][d]]:this.eventTypes[d]=a[b][d]},fireEvent:function(a,b,c){var d=a.config?a.config.params||[]:[],e=this.eventTypes;if(e[b]){if(c=c||[],"object"===X.type(e[b])){var f=e[b];return d=f.params?d.concat(f.params):d,f.fn.apply(f.scope||a,c.concat(d))}if("array"===X.type(e[b])){for(var g=0,h=e[b].length;h>g;g++){var f=e[b][g],i=!1;i=f.apply(a.config?a.config.scope||a:a,c.concat(d))}return i}return e[b].apply(a.config?a.config.scope||a:a,c.concat(d))}},removeEvent:function(a){this.eventTypes[a]&&delete this.eventTypes[a]},clear:function(){this.eventTypes={}}}),X.util.Observer.prototype.on=X.util.Observer.prototype.addEvent,X.util.Observer.prototype.off=X.util.Observer.prototype.removeEvent,X.util.Observer.prototype.fire=X.util.Observer.prototype.fireEvent,X.util.ElementManager=X.util.em={id:"x-ui-",index:1e3,get:function(a){if(a){var b=X.type(a);if("string"===b||"dom"===b){var c=$(a),d=this;return c.each(function(){this.id||(this.id=d.id+d.index++)}),c}if("jquery"===b){var c=a,d=this;return c.each(function(){this.id||(this.id=d.id+d.index++)}),c}if("object"===b){var e=a,f=e.tag;return this.create(f,e)}}return this.create()},create:function(a,b){var c=null;return b=b||{},delete b.tag,c=a?$("<"+a+" />",b):$("<div />",b),b.id?c.attr("id",b.id):c.attr("id",this.id+this.index++),c}},X.util.ComponentManager=X.util.cm={map:{},cString:{},create:function(a,b){for(var c=0,d=b.length;d>c;c++)b[c].render||(b[c]=new this.cString[b[c].cString](b[c])),this.elementAdd(a,b[c].el),b[c].config.autoRender||b[c].render(),this.set(b[c].el.attr("id"),b[c]);return b},elementAdd:function(a,b){a.append(b)},set:function(a,b){this.map[a]=b},get:function(a){return this.map[a]},addCString:function(a,b){this.cString[a]=b},remove:function(a){delete this.map[a]},clear:function(){this.map={}}},X.util.History=X.extend(X.util.Observer,{initialize:function(a){this.config={vc:null},X.apply(this.config,a);var b={};this.config.listener&&(b=this.config.listener),X.util.History.base.initialize.call(this,b),this.viewMap={},this.ajaxCache={},this.stack=[]},initPageSave:function(a,b){this.clear(),this.viewMap[a]={view:b,transition:"none"},this.stack.push(a)},nextPageSave:function(a,b,c){this.viewMap[a]={view:b,transition:c},this.stack.push(a)},prevPageSave:function(a){for(var b=this.stack.reverse(),c=0,d=[],e=this.viewMap,f=0;f<b.length;f++){if(a===b[f]){c=f;break}d.push(b[f])}for(var f=0;f<d.length;f++)e[d[f]]&&(e[d[f]].view.destroy(),this.removeViewMap(d[f]));this.stack.reverse(),this.stack=this.stack.slice(0,this.stack.length-c)},removeViewMap:function(a){this.viewMap[a].view.destroy(),delete this.viewMap[a]},removeStack:function(a){for(var b=0,c=this.stack,d=c.length,e=[];d>b;b++)c[b]!==a&&e.push(c[b]);this.stack=e},getBackPageInfo:function(){var a=this.stack,b=a.length;if(a.length<2)return!1;var c=a[b-1],d=a[b-2],e=this.viewMap[c],f=this.viewMap[d];return{fromView:e.view,toView:f.view,transition:e.transition}},setAjaxCache:function(a,b){this.ajaxCache[a]=b},getAjaxCache:function(a){return this.ajaxCache[a]},isCache:function(a){return this.ajaxCache[a]?!0:!1},getViewInfo:function(a){return this.viewMap[a]?this.viewMap[a]:null},clear:function(){for(var a=this.stack,b=this.viewMap,c=0;c<a.length;c++)b[a[c]]&&b[a[c]].view.destroy();this.viewMap={},this.ajaxCache={},this.stack=[]},getStackLength:function(){return this.stack.length}}),X.util.ViewController=X.extend(X.util.Observer,{initialize:function(a){this.config={transition:"slide"},X.apply(this.config,a);var b={};this.config.listener&&(b=this.config.listener),X.util.ViewController.base.initialize.call(this,b),this.history=new X.util.History({vc:this}),this.id=this.config.id||"ui-vc-"+X.util.ViewController.id++,X.util.ViewController.set(this)},init:function(a){this.view=a},transitionStart:function(a,b,c,d){function e(a,b,c,d){var e=function(){var e=null,f=null;e=b.getEl(),e.addClass(c+" in "+d+" ui-transitioning ui-vc-active").removeClass("ui-view-hide"),f=a.getEl(),f.addClass(c+" out "+d+" ui-transitioning"),"none"!==c?e.animationComplete(g):g()},g=function(){var e=null,f=null;e=b.getEl(),e.removeClass(c+" in "+d+" ui-transitioning"),f=a.getEl(),f.removeClass(c+" out "+d+" ui-transitioning ui-vc-active"),h()},h=function(){a.hide(),f.resolve(this,[a,b]),a=null,b=null,c=null,d=null};e()}var f=new $.Deferred;return e(a,b,c,d),f},prevMove:function(a,b,c){var d,e=this;c=X.apply({transition:this.config.transition,reverse:"reverse"},c),X.util.vcm.transition||(c.transition="none"),this.fireEvent(this,"beforeprevchange",[a,b]),c.listener&&c.listener.beforeprevchange&&c.listener.beforeprevchange.apply(c.listener.scope||e,[a,b]),d=this.transitionStart(a,b,c.transition,c.reverse),d.done(function(){X.util.vcm.changing=!1,e.setActiveView(b),e.history.prevPageSave(b.getId()),e.fireEvent(e,"afterprevchange",[a,b]),c.listener&&c.listener.afterprevchange&&c.listener.afterprevchange.apply(c.listener.scope||e,[a,b]),e=null,a=null,b=null,c=null})},nextMove:function(a,b,c){var d,e=this;c=X.apply({transition:this.config.transition,history:!0,reverse:""},c),X.util.vcm.transition||(c.transition="none"),this.fireEvent(this,"beforenextchange",[a,b]),c.listener&&c.listener.beforenextchange&&c.listener.beforenextchange.apply(c.listener.scope||e,[a,b]),d=this.transitionStart(a,b,c.transition,c.reverse),d.done(function(){X.util.vcm.changing=!1,e.setActiveView(b),e.history.nextPageSave(b.getId(),b,c.transition),e.fireEvent(e,"afternextchange",[a,b]),c.listener&&c.listener.afternextchange&&c.listener.afternextchange.apply(c.listener.scope||e,[a,b]),e=null,a=null,b=null,c=null})},backPage:function(){if(this.history.getStackLength()<2)return!1;var a=this.history.getBackPageInfo();return this.prevMove(a.fromView,a.toView,{transition:a.transition}),!0},setActiveView:function(a){this.activeView=a,this.activeView.el.addClass("ui-vc-active")},getActiveView:function(){return this.activeView}}),X.util.vcm=X.util.ViewControllerManager=X.apply(X.util.ViewController,{id:0,transition:!0,changing:!1,map:{},loadingMsg:"Loading..",errorMsg:"화면을 불러오지 못했습니다.",get:function(a){return this.map[a]},set:function(a){this.map[a.id]=a},setErrorMsg:function(a){this.errorMsg=a},setLoadingMsg:function(){this.loadingMsg=msg},enabledTransition:function(){this.transition=!0},disabledTransition:function(){this.transition=!1}}),X.util.LocalViewController=X.extend(X.util.ViewController,{initialize:function(a){this.config={activeIndex:0},X.apply(this.config,a),X.util.LocalViewController.base.initialize.call(this,this.config),this.views=[]},init:function(a){X.util.LocalViewController.base.init.call(this,a),this.views=this.view.config.children,this.viewsInit()},viewsInit:function(){if(this.views.length<1)return!1;var a,b=this.views,c=(b.length,this.config.activeIndex);a=b[c],this.setActiveView(a),this.history.initPageSave(a.getId(),a),b.forEach(function(a){a.el.addClass("ui-vc-views"),a.hide()}),a.show()},valid:function(a,b){return a===b?!0:!1},getActiveIndex:function(){for(var a=this.getActiveView(),b=0;b<this.views.length;b++)if(a===this.views[b])return b},getView:function(a){if(this.views.length<1)return null;var b=this.views[a];return b?b:null},nextPage:function(a){if(X.util.vcm.changing)return!1;if(!a)return!1;var b=this.getActiveView(),c=this.getView(a.index);return this.valid(b,c)?!1:(X.util.vcm.changing=!0,c.show(),void this.nextMove(b,c,a))},prevPage:function(a){if(X.util.vcm.changing)return!1;if(!a)return!1;var b=this.getActiveView(),c=this.history.getViewInfo(this.getView(a.index).getId());return this.valid(b,c.view)?!1:(X.util.vcm.changing=!0,c.view.show(),void this.prevMove(b,c.view,{transition:c.transition}))},appendView:function(a){return a.el.addClass("ui-vc-active"),this.views.push(a),a},removeView:function(a){for(var b=0,c=this.views,d=c.length,e=[];d>b;b++)c[b]!==a&&e.push(c[b]);return this.views=e,this.history.removeMap(id),this.history.removeStack(id),a}}),X.util.cm.addCString("localviewcontroller",X.util.LocalViewController),X.util.RemoteViewController=X.extend(X.util.ViewController,{initialize:function(a){this.config={initPage:null},X.apply(this.config,a),X.util.RemoteViewController.base.initialize.call(this,this.config),this.views=[],this.updater=new X.util.ViewUpdater({vc:this})},init:function(a){X.util.RemoteViewController.base.init.call(this,a),this.config.initPage&&this.initPage(this.config.initPage)},initPage:function(a){this.fireEvent(this,"beforeinit",[]),this.callMethod="initSuccess",this.send(a)},nextPage:function(a){return X.util.vcm.changing?void 0:a?void(this.valid(a.url)||(X.util.ViewController.changing=!0,this.callMethod="nextSuccess",this.send(a))):!1},prevPage:function(a){if(X.util.vcm.changing)return!1;if(!a)return!1;if(!this.valid(a.url)){var b=this.getActiveView(),c=this.history.getViewInfo(a.url);if(this.valid(b,c.view))return!1;X.util.vcm.changing=!0,this.prevMove(b,c.view,{transition:c.transition})}},getToView:function(a){var b,c=a;return c.scroll=!1,b=new X.View(c),b.getEl().addClass("ui-vc-views"),b},send:function(a){this.history.isCache(a.url)?this.success(this.history.getAjaxCache(a.url),a):(this.loading=X.util.em.get().html(X.util.vcm.loadingMsg).addClass("ui-loading-msg"),X.getBody().prepend(this.loading),this.loading.addClass("ui-popup in"),this.updater&&a.url&&a.url&&this.updater.send(a))},success:function(a,b){this.loading&&this.loading.remove(),this.history.setAjaxCache(b.url,a),a=$(a);var c=[],d=[];a.each(function(){"SCRIPT"!==this.nodeName?c.push(this):d.push(this)}),a={html:$(c),script:$(d)};var e,f=(a.html.eq(0),{id:b.url});e=this.history.getViewInfo(b.url),e?e=e.view:(e=this.getToView(f),e.el.addClass("ui-vc-views")),this[this.callMethod](a,e,b)},initSuccess:function(a,b,c){this.history.initPageSave(c.url,b),this.setActiveView(b),b.setContent(a.html),this.view.addChildren([b]),b.body.append(a.script),this.fireEvent(this,"afterinit",[this.getActiveView()]),c.listener&&c.listener.afterinit&&c.listener.afterinit.apply(c.listener.scope||this,[this.getActiveView()])},nextSuccess:function(a,b,c){var d=this.getActiveView({id:c.url});this.history.getViewInfo(c.url)||(b.setContent(a.html),this.view.addChildren([b]),b.body.append(a.script)),this.nextMove(d,b,c)},errorTransition:function(a,b){function c(a,b){var c=function(){a.addClass("ui-popup in"),a.animationComplete(e)},e=function(){window.setTimeout(function(){a.removeClass("ui-popup in").addClass("ui-popup out"),a.animationComplete(f)},3e3)},f=function(){d.resolve(this),a=null,b=null};"show"===b?e():c()}var d=new $.Deferred;return c(a,b),d},error:function(){var a,b,c=function(a){var b=this.errorTransition(a);return b};if(this.loading)a=this.loading,a.html(X.util.vcm.errorMsg),b="none"!==a.css("display")?this.errorTransition(a,"show"):c.call(this,a);else{var a=X.util.em.get().html(X.util.vcm.errorMsg).addClass("ui-loading-msg");X.getBody().prepend(a),b=c.call(this,a)}b.done(function(){X.util.vcm.changing=!1,a.remove(),a=null})},valid:function(a){return this.history.stack.length&&this.history.stack[this.history.stack.length-1]===a?!0:!1}}),X.util.ViewUpdater=X.extend(X.util.Observer,{initialize:function(a){this.config={clear:!0,ajax:{context:this,timeout:1e4,dataType:"html",success:this.success,error:this.error}},X.apply(!0,this.config,a);var b={};this.config.listener&&(b=this.config.listener),X.util.ViewUpdater.base.initialize.call(this,b)},send:function(a){a=X.apply(a,this.config.ajax);var b=$.ajax(a),c={};c.url=a.url,a.hasOwnProperty("transition")&&(c.transition=a.transition),a.hasOwnProperty("history")&&(c.history=a.history),a.hasOwnProperty("listener")&&(c.listener=a.listener),b.params=c},success:function(a,b,c){this.config.vc.success(a,c.params)},error:function(a){this.config.vc.error(a)}}),X.util.cm.addCString("viewupdater",X.util.ViewUpdater),X.util.Draggable=X.extend(X.util.Observer,{initialize:function(a){this.config={horizontal:!0,vertical:!0,direction:"both",constrain:!1,handle:null,revert:!1,revertDuration:200,scroll:null},X.apply(this.config,a);var b={};this.config.listener&&(b=this.config.listener),X.util.Draggable.base.initialize.call(this,b),this.active_el=null,this.init()},init:function(){this.el=X.util.em.get(this.config.el).addClass("ui-draggable"),this.config.constrain&&(this.config.constrain=$(this.config.constrain)),this.handle=this.config.handle?this.el.find(this.config.handle):this.el,"both"==this.config.direction?(this.config.horizontal=!0,this.config.vertical=!0):"x"==this.config.direction?(this.config.horizontal=!0,this.config.vertical=!1):(this.config.horizontal=!1,this.config.vertical=!0),this.initialRegion={t:0,l:0,r:0,b:0},this.offsetToCorner={x:0,y:0},this.el.css({webkitTransform:"translate3d(0px, 0px, 0px)",msTransform:"translate3d(0px, 0px, 0px)",transform:"translate3d(0px, 0px, 0px)"}),this.handle.on(X.events.start,{me:this},this.onStart)},reset:function(){var a=this.active_el,b=a.position(),c=b.left,d=b.top,e=c+a.width(),f=d+a.height();this.startPosition=this.position={x:c||0,y:d||0};var g={l:c,t:d,r:e,b:f};this.initialRegion=this.region=g,this.transform={x:0,y:0},this.transformTo(0,0)},prepareDrag:function(a){if(this.reset(),this.config.constrain!==!1){var b=this.config.constrain.width(),c=this.config.constrain.height();this.constrainRegion={l:0,t:0,r:b,b:c}}var d=a.originalEvent.touches?a.originalEvent.touches[0].pageX:a.originalEvent.pageX,e=a.originalEvent.touches?a.originalEvent.touches[0].pageY:a.originalEvent.pageY;this.offsetToCorner={x:d-this.initialRegion.l,y:e-this.initialRegion.t}},transformTo:function(a,b){var c=this,d=(c.initialRegion,c.startPosition||{x:0,y:0}),e=c.active_el.get(0),f=e.style,g="translate3d("+a+"px, "+b+"px, 0px)";f.webkitTransform=g,f.msTransform=g,f.transform=g,c.transform={x:a,y:b},c.position={x:d.x+a,y:d.y+b}},onStart:function(a){var b=a.data.me;if(!b.dragging){b.active_el=$(a.target),b.active_el.addClass("ui-dragging");var c=b.active_el.get(0);return b.config.ghost&&(b.active_el=b._createGhost(b.active_el)),b.prepareDrag(a),b.dragging||(b.dragging=!0,c.style.webkitTransform=null,c.style.webkitTransitionDuration=null,c.style.msTransform=null,c.style.msTransitionDuration=null,c.style.transform=null,c.style.transitionDuration=null),b.fireEvent(b,"start",[b]),X.util.ddm&&X.util.ddm.start(b),X.getDoc().on(X.events.move,{me:b},b.onMove),X.getDoc().on(X.events.end,{me:b},b.onEnd),!1}},onMove:function(a){var b=a.data.me,c=a.target;if(b.dragging){var d=0,e=0,f=b.initialRegion,g=b.constrainRegion,h=a.originalEvent.touches?a.originalEvent.touches[0].pageX:a.originalEvent.pageX,i=a.originalEvent.touches?a.originalEvent.touches[0].pageY:a.originalEvent.pageY;b.config.horizontal&&(d=h-f.l-b.offsetToCorner.x),b.config.vertical&&(e=i-f.t-b.offsetToCorner.y),b.config.constrain&&(b.config.horizontal&&(f.l+d<g.l&&(d=g.l-f.l),f.r+d>g.r&&(d=g.r-f.r)),b.config.vertical&&(f.t+e<g.t&&(e=g.t-f.t),f.b+e>g.b&&(e=g.b-f.b))),b.region={t:f.t+e,r:f.r+d,b:f.b+e,l:f.l+d},b.fireEvent(b,"move",[b,b.region])!==!1&&(b.transformTo(d,e,c),X.util.ddm&&X.util.ddm.move({x:h,y:i}))}return!1},onEnd:function(a){var b=a.data.me;if(b.dragging){var c,d,e=b.el,f=a.originalEvent.touches?a.originalEvent.changedTouches[0].pageX:a.originalEvent.pageX,g=a.originalEvent.touches?a.originalEvent.changedTouches[0].pageY:a.originalEvent.pageY;return b.dragging=!1,b.active_el.removeClass("ui-dragging"),d=function(){b.config.ghost&&b.ghost.remove();var a=e.get(0).style;a.webkitTransform="translate3d(0px, 0px, 0px)",a.webkitTransitionDuration=null,a.msTransform="translate3d(0px, 0px, 0px)",a.msTransitionDuration=null,a.transform="translate3d(0px, 0px, 0px)",a.transitionDuration=null,b.config.revert||(a.left=b.position.x+"px",a.top=b.position.y+"px"),b.fireEvent(b,"end",[b,b.region]),X.util.ddm&&X.util.ddm.end({x:f,y:g}),X.getDoc().off(X.events.move,b.onMove),X.getDoc().off(X.events.end,b.onEnd),b=null,e=null},c=b.config.revert?function(){var a={"-webkit-transition-duration":b.config.revertDuration+"ms","-webkit-transform":"translate3d(0px, 0px, 0px)","-ms-transition-duration":b.config.revertDuration+"ms","-ms-transform":"translate3d(0px, 0px, 0px)","transition-duration":b.config.revertDuration+"ms",transform:"translate3d(0px, 0px, 0px)"};b.active_el.css(a).one("webkitTransitionEnd transitionend",function(){d(),d=null})}:function(){d(),d=null},c(),!1}},_createGhost:function(a){if(this.ghost=a.clone(),this.active_el.before(this.ghost),this.ghost.get(0)!==a.get(0)&&!/(fixed|absolute)/.test(this.ghost.css("position"))){var b=a.offset();this.ghost.css({position:"absolute",left:b.left,top:b.top})}return this.ghost}}),X.util.Droppable=X.extend(X.util.Observer,{initialize:function(a){this.config={accept:"*"},X.apply(this.config,a);var b={};this.config.listener&&(b=this.config.listener),X.util.Droppable.base.initialize.call(this,b),this.isEnter=!1,this.init()},init:function(){this.el=X.util.em.get(this.config.el),this.el.addClass("ui-droppable");var a=this.el.attr("id");X.util.ddm.setDroppable(a,this)},isAccept:function(a){return"*"!==this.config.accept?a.el.is(this.config.accept):!0},start:function(a){if(this.isAccept(a)){var b=this.el,c=b.offset();this.left=c.left,this.top=c.top,this.width=b.outerWidth(),this.height=b.outerHeight(),this.fireEvent(this,"start",[this,a])}},dragging:function(a,b){this.isAccept(a)&&this.move(a,b)},move:function(a,b){this.fireEvent(this,"move",[this,a]),this.isOver(b)?(this.isEnter||(this.isEnter=!0,this.enter(a)),this.hover(a)):this.isEnter&&(this.isEnter=!1,this.leave(a))},enter:function(a){this.fireEvent(this,"enter",[this,a])},leave:function(a){this.fireEvent(this,"leave",[this,a])},drop:function(a){this.fireEvent(this,"drop",[this,a])},hover:function(a){this.fireEvent(this,"hover",[this,a])},end:function(a,b){this.isAccept(a)&&(this.fireEvent(this,"end",[this,a]),this.isEnter=!1,this.isOver(b)&&this.drop(a))},isOver:function(a){var b=a.x,c=a.y;return b>this.left&&c>this.top&&b<this.left+this.width&&c<this.top+this.height?!0:!1}}),X.util.DragNDropManager=X.util.ddm={draggable:null,droppables:{},setDroppable:function(a,b){this.droppables[a]=b},getDroppable:function(a){return this.droppables[a]},getDraggable:function(){return this.valid()?this.draggable:!1},valid:function(){var a=this.draggable;return a?!0:!1},start:function(a){this.draggable=a,$.each(this.droppables,function(a,b){b.start(X.util.ddm.getDraggable())})},move:function(a){this.valid()&&($.each(this.droppables,function(b,c){c.dragging(X.util.ddm.getDraggable(),a)}),a=null)},end:function(a,b){this.valid()&&($.each(X.util.ddm.droppables,function(c,d){d.end(X.util.ddm.getDraggable(),a,b)}),a=null,b=null,X.util.ddm.draggable=null)}},X.util.DragNDropManager=X.util.ddm={draggable:null,droppables:{},setDroppable:function(a,b){this.droppables[a]=b},getDroppable:function(a){return this.droppables[a]},getDraggable:function(){return this.valid()?this.draggable:!1},valid:function(){var a=this.draggable;return a?!0:!1},start:function(a){this.draggable=a,$.each(this.droppables,function(a,b){b.start(X.util.ddm.getDraggable())})},move:function(a){this.valid()&&($.each(this.droppables,function(b,c){c.dragging(X.util.ddm.getDraggable(),a)}),a=null)},end:function(a,b){this.valid()&&($.each(X.util.ddm.droppables,function(c,d){d.end(X.util.ddm.getDraggable(),a,b)}),a=null,b=null,X.util.ddm.draggable=null)}},X.ui={},X.View=X.extend(X.util.Observer,{initialize:function(a){this.config={el:null,width:200,height:200,autoSize:!0,scroll:!0,scrollConfig:{},content:null,children:[],toolbars:[],floating:!1,overlay:!1,viewController:null,layout:"y",flexible:!0,panels:null,className:null,style:null},X.apply(!0,this.config,a);var b={};this.config.listener&&(b=this.config.listener),X.View.base.initialize.call(this,b),this.config.el||(this.config.el={tag:"div",id:this.config.id}),this.el=X.util.em.get(this.config.el),X.util.cm.set(this.el.get(0).id,this),this.body=this.el.wrapInner(X.util.em.get().addClass("ui-view-body")).children(),this.config.autoRender&&this.render()},render:function(){this.fireEvent(this,"beforerender",[this]),this.el.addClass("ui-view"),this.setLayout(this.config.layout),this.setSize(this.config.autoSize),this.config.className&&this.el.addClass(this.config.className),this.config.style&&this.el.css(this.config.style),this.config.toolbars.length>0&&this.addToolbar(this.config.toolbars),this.config.content&&this.setContent(this.config.content),this.config.children.length>0&&this.createInitChildren(),this.config.viewController&&this.setViewController(this.config.viewController),this.config.floating&&this.setFloating(this.config.floating),this.config.panels&&this.panelsCreate(this.config.panels),this.setFlexible(this.config.flexible),this.config.scroll&&this.scrollCreate(),X.getWindow().on(X.events.orientationchange,{me:this},this.onOrientationChange),this.fireEvent(this,"afterrender",[this])},scrollRefresh:function(){this.scroll&&this.scroll.refresh()},panelsCreate:function(a){a.left&&(this.panelsLeft=X.util.em.get().addClass("ui-view-panels-left"),this.el.append(this.panelsLeft),X.util.cm.create(this.panelsLeft,[a.left])),a.right&&(this.panelsRight=X.util.em.get().addClass("ui-view-panels-right"),this.el.append(this.panelsRight),X.util.cm.create(this.panelsRight,[a.right])),this.body.addClass("ui-view-panels ui-view-panels-close"),this.currentPanel=null},panelsOpen:function(a){(this.panelsRight||this.panelsLeft)&&(this.body.removeClass("ui-view-panels-close").addClass("ui-view-panels-open-"+a),this.currentPanel=a,this.fireEvent(this,"panelsopen",[this,this.currentPanel]),this.body.on("vclick",{me:this},function(a){var b=a.data.me;return b.currentPanel&&b.panelsClose(),!1}))},panelsClose:function(){(this.panelsRight||this.panelsLeft)&&(this.body.removeClass("ui-view-panels-open ui-view-panels-open-left ui-view-panels-open-right").addClass("ui-view-panels-close"),this.currentPanel=null,this.fireEvent(this,"panelsclose",[this]),this.body.off("vclick"))},panelsToggle:function(a){(this.panelsRight||this.panelsLeft)&&(this.body.hasClass("ui-view-panels-close")?this.panelsOpen(a):this.panelsClose(a))},setContent:function(a){var b=/^#/;"string"===X.type(a)&&b.test(a)?(a=$(a),this.body.children(".ui-scrollview-view").length>0?this.body.children(".ui-scrollview-view").html(a):this.body.html(a)):this.body.children(".ui-scrollview-view").length>0?this.body.children(".ui-scrollview-view").html(a):this.body.html(a),this.createHtmlComponent()},setLayout:function(a){"x"===a?(this.el.addClass("ui-view-horizontal"),this.body.removeClass("ui-view-body-vertical").addClass("ui-view-body-horizontal")):"y"===a&&this.body.removeClass("ui-view-body-horizontal").addClass("ui-view-body-vertical")},setFlexible:function(a){a?this.el.addClass("ui-view-flexible"):this.el.removeClass("ui-view-flexible")},setSize:function(a){this.setWidth(a),this.setHeight(a)},setWidth:function(a){if("boolean"!==X.type(a)||a!==!0){this.setFlexible(!1);var b=a||this.config.width;this.el.width(b)}},setHeight:function(a){if("boolean"!==X.type(a)||a!==!0){this.setFlexible(!1);var b=a||this.config.height;this.el.css("min-height","none").height(b)}},getWidth:function(){var a=this.el.outerWidth();return a},getHeight:function(){var a=this.el.outerHeight();return a},scrollCreate:function(){this.scroll=new iScroll(this.body.get(0),this.config.scrollConfig)},scrollDestroy:function(){this.scroll&&this.scroll.destroy()},onOrientationChange:function(a){var b=a.data.me;b.fireEvent(b,"orientationchange",[])},show:function(a){if(this.el.hasClass("ui-view-hide")){if(this.config.floating){if(this.config.floating){var b=this.el.get(0).style;this.el.css({marginTop:-(parseInt(b.height)/2),marginLeft:-(parseInt(b.width)/2)})}this.overlay&&this.overlay.show()}this.el.removeClass("ui-view-hide"),a&&this.el.addClass("pop in").animationComplete(function(){this.className=this.className.replace("pop in","")}),this.fireEvent(this,"show",[this])}},hide:function(a){this.el.hasClass("ui-view-hide")||(a?this.el.addClass("out").animationComplete(function(){this.className=this.className.replace("out","")+"ui-view-hide"}):this.el.addClass("ui-view-hide"),this.config.floating&&this.overlay&&this.overlay.hide(),this.fireEvent(this,"hide",[this]))},toggle:function(a){this.el.hasClass("ui-view-hide")?this.show(a):this.hide(a)},getEl:function(){return this.el},getId:function(){return this.el.attr("id")},getViewController:function(){return this.config.viewController},setViewController:function(a){"string"===X.type(a)&&(a=X.util.ViewController.get(a)),a||new Error("arguments is unknow"),a.init(this),this.config.viewController=a},destroy:function(){this.scrollDestroy(),this.el.remove(),X.getWindow().off(X.events.orientationchange,this.onOrientationChange),this.fireEvent(this,"destroy",[this])},createInitChildren:function(){var a=this.body.children(".ui-scrollview-view");a.length<1&&(a=this.body);var b=X.util.cm.create(a,this.config.children);this.config.children=b},addChildren:function(a){var b=this.body.children(".ui-scrollview-view");return b.length<1&&(b=this.body),a=X.util.cm.create(b,a),this.config.children=$.unique(this.config.children.concat(a)),this.config.children.reverse(),a},removeChildren:function(a){this.config.children[a].destroy(),this.config.children.remove(a)},addToolbar:function(a){return a=X.util.cm.create(this.el,a),this.config.toolbars=$.unique(this.config.toolbars.concat(a)),this.config.toolbars.reverse(),a},setFloating:function(a){a?(this.config.floating=a,this.el.addClass("ui-view-floating ui-view-hide")):this.el.removeClass("ui-view-floating ui-view-hide"),this.setOverlay(this.config.overlay)},setOverlay:function(a){a?this.config.floating?(this.overlay=X.util.em.get().addClass("ui-overlay"),X.getBody().append(this.overlay),this.overlay.bind("vclick",{me:this},function(a){var b=a.data.me;b.hide()})):this.overlay&&this.overlay.remove():this.overlay&&this.overlay.remove(),this.config.overlay=a},createHtmlComponent:function(){var a=this.el.find('[data-ui="view"]');a.each(function(){var a,b,c=$(this),d=this.dataset,e={};for(a in d)b="true"===d[a]||"false"===d[a]||parseFloat(d[a])||/^\{(.*?)\}$/.test(d[a])?JSON.parse(d[a]):d[a],e[a]=b;e.el=c,e.autoRender=!0,new X.View(e)});var b=this.el.find('[data-ui="view"][data-panels="true"]');b.each(function(){var a,b,c=this.id,d=X.util.cm.get(c),e={};d.scroll||(a=d.body.children('[data-ui="view"][data-panels="left"]'),b=d.body.children('[data-ui="view"][data-panels="right"]'),a.length>0&&(e.left=X.util.cm.get(a.get(0).id)),b.length>0&&(e.right=X.util.cm.get(b.get(0).id))),d.panelsCreate(e)});var c=this.el.find("[data-ui]").not('[data-ui="view"]');c.each(function(){var a,b,c=$(this),d=c.data("ui"),e=this.dataset,f={};for(a in e)b="true"===e[a]||"false"===e[a]||parseFloat(e[a])||/^\{(.*?)\}$/.test(e[a])?JSON.parse(e[a]):e[a],f[a]=b;if(f.el=c,f.autoRender=!0,"toolbar"===d&&(c.parents(".ui-view").eq(0).prepend(c),f.title=c.html(),c.empty(),new X.ui.Toolbar(f)),"tabs"===d){var g=c.children('[data-ui="view"]'),h=[],i=[];g.each(function(){h.push(X.util.cm.get(this.id)),i.push(this.dataset.title)}),f.children=h,f.titles=i,new X.ui.Tabs(f)}if("carousel"===d){var j=c.children('[data-ui="view"]'),h=[];j.each(function(){h.push(X.util.cm.get(this.id))}),f.children=h,new X.ui.Carousel(f)}if("listview"===d&&new X.ui.ListView(f),"accordion"===d){var j=c.children('[data-ui="view"]'),h=[],i=[];j.each(function(){h.push(X.util.cm.get(this.id)),i.push(this.dataset.title)}),f.children=h,f.titles=i,new X.ui.Accordion(f)}if("textbox"===d&&new X.ui.TextBox(f),"slider"===d&&new X.ui.Slider(f),"progress"===d&&new X.ui.Progressbar(f),"spinner"===d&&new X.ui.Spinner(f),"switchbox"===d&&new X.ui.SwitchBox(f),"checkbox"===d&&new X.ui.CheckBox(f),"radiobox"===d&&new X.ui.RadioBox(f),"selectbox"===d&&new X.ui.SelectBox(f),"layoutview"===d){var k=c.children('[data-regions="east"]').get(0),l=c.children('[data-regions="west"]').get(0),m=c.children('[data-regions="south"]').get(0),n=c.children('[data-regions="nouth"]').get(0),o=c.children('[data-regions="center"]').get(0);k=X.util.cm.get(k?k.id:null),k&&k.setWidth(!1),l=X.util.cm.get(l?l.id:null),l&&l.setWidth(!1),m=X.util.cm.get(m?m.id:null),m&&m.setHeight(!1),n=X.util.cm.get(n?n.id:null),n&&n.setHeight(!1),o=X.util.cm.get(o?o.id:null),f.regions={},f.regions.east=k,f.regions.west=l,f.regions.south=m,f.regions.nouth=n,f.regions.center=o,new X.ui.LayoutView(f)}});var d=this.el.find('[data-ui="formview"]');d.each(function(){var a,b=$(this),c=[],d='[data-ui="textbox"],[data-ui="slider"],[data-ui="spinner"],[data-ui="switchbox"],[data-ui="progress"]',e=this.dataset,f={};for(attr in e)a="true"===e[attr]||"false"===e[attr]||parseFloat(e[attr])||/^\{(.*?)\}$/.test(attr)?JSON.parse(e[attr]):e[attr],f[attr]=a;b.children(d).each(function(){c.push(X.util.cm.get(this.id))}),f.el=b,f.children=c,f.autoRender=!0,new X.ui.FormView(f)})}}),X.util.cm.addCString("view",X.View),X.ui.Accordion=X.extend(X.View,{initialize:function(a){this.config={titles:[],children:[],activeIndex:0},this.config.scroll=!1,X.apply(this.config,a),X.ui.Accordion.base.initialize.call(this,this.config)},render:function(){X.ui.Accordion.base.render.call(this),this.el.addClass("ui-accordion"),this.createChildren(),this.createTitle(),views=this.body.on("vclick",".ui-accordion-views > .ui-accordion-title",{me:this},function(a){var b=a.data.me,c=b.body.children(".ui-accordion-views").index($(this).parent());return b.change(c),!1})},createChildren:function(){this.body.children(".ui-view").each(function(){var a=X.util.em.get().addClass("ui-accordion-views ui-accordion-close");$(this).wrap(a)});var a=this.body.children(".ui-accordion-views");a.eq(this.config.activeIndex).removeClass("ui-accordion-close").addClass("ui-accordion-open");var b=this;
this.config.children.forEach(function(a,c){b.config.activeIndex!==c&&a.hide()})},createTitle:function(){var a=this.body.children(".ui-accordion-views"),b=this.config.titles;a.each(function(a){b[a]&&(div=X.util.em.get().addClass("ui-accordion-title").html(b[a]),$(this).prepend(div))}),b=null},change:function(a){this.config.activeIndex!==a&&(this.body.children(".ui-accordion-views").removeClass("ui-accordion-open").addClass("ui-accordion-close").eq(a).addClass("ui-accordion-open").removeClass("ui-accordion-close"),this.config.children.forEach(function(b,c){a!==c?b.hide():b.show()}),this.config.activeIndex=a,this.fireEvent(this,"change",[this]))},append:function(a,b){var c=X.util.em.get().addClass("ui-accordion-views ui-accordion-close"),d=X.util.em.get().addClass("ui-accordion-title").html(b);return this.body.append(c),a=X.util.cm.create(c,[a]),c.prepend(d),this.config.activeIndex=null,[a[0],b]},prepend:function(a,b){var c=X.util.em.get().addClass("ui-accordion-views ui-accordion-close"),d=X.util.em.get().addClass("ui-accordion-title").html(b);return this.body.prepend(c),a=X.util.cm.create(c,[a]),c.prepend(d),this.config.activeIndex=null,[a[0],b]},remove:function(a){this.body.children(".ui-accordion-views").eq(a).remove(),this.config.children=this.config.children.filter(function(b,c){return a!==c}),this.config.titles=this.config.titles.filter(function(b,c){return a!==c}),this.config.activeIndex=null},removeAll:function(){this.body.empty(),this.config.activeIndex=null},changeTitle:function(a,b){b=b||0;var c=this.body.children(".ui-accordion-views").eq(b);c.children(".ui-accordion-title").html(a),this.config.titles[b]=a},getChild:function(a){return this.config.children[a]}}),X.util.cm.addCString("accordion",X.ui.Accordion),X.ui.Carousel=X.extend(X.View,{initialize:function(a){this.config={direction:"x",activeIndex:0,duration:200,children:[]},this.config.scroll=!1,X.apply(this.config,a),X.ui.Carousel.base.initialize.call(this,this.config),this.endPos=0,this.dragging=!1,this.activeIndex=this.config.activeIndex},render:function(){X.ui.Carousel.base.render.call(this),this.el.addClass("ui-carousel"),this.carouselBody=X.util.em.get().addClass("ui-carousel-body");var a=this.body.children(".ui-view").addClass("ui-carousel-views"),b=this.activeIndex,c=this.carouselBody.get(0).style,d=0,e=0;a.length>0?a.wrapAll(this.carouselBody):this.el.append(this.carouselBody),this.carouselBody=this.body.children(".ui-carousel-body"),"x"===this.config.direction?(e=this.getWidth(),d=-1*b*e,c.webkitTransform="translateX("+d+"px)",c.msTransform="translateX("+d+"px)",c.transform="translateX("+d+"px)",a.each(function(a){this.style.left=100*a+"%"})):(e=this.getHeight(),d=-1*b*e,c.webkitTransform="translateY("+d+"px)",c.msTransform="translateY("+d+"px)",c.transform="translateY("+d+"px)",a.each(function(a){this.style.top=100*a+"%"})),this.carouselBody.bind(X.events.start,{me:this},this.onStart),X.getWindow().on(X.events.orientationchange,{me:this},this.orientationChange)},orientationChange:function(a){var b,c=a.data.me,d=c.endPos;return 0===d?!1:(b=c.carouselBody.get(0).style,b.webkitTransitionDuration="0","x"===c.config.direction?(d=c.getWidth()*c.activeIndex*-1,b.webkitTransform="translateX("+d+"px)",b.msTransform="translateX("+d+"px)",b.transform="translateX("+d+"px)"):(d=c.getHeight()*c.activeIndex*-1,b.webkitTransform="translateY("+d+"px)",b.msTransform="translateY("+d+"px)",b.transform="translateY("+d+"px)"),c.endPos=d,!1)},onStart:function(a){var b=a.data.me,c=a.originalEvent.touches?a.originalEvent.touches[0].pageX:a.originalEvent.pageX,d=a.originalEvent.touches?a.originalEvent.touches[0].pageY:a.originalEvent.pageY;b.startPageX=c,b.startPageY=d,b.dragging=!0,b.moveLimit=0,b.carouselBody.on(X.events.move,{me:b},b.onMove),b.carouselBody.on(X.events.end,{me:b},b.onEnd)},onMove:function(a){var b=a.data.me;if(b.dragging){var c=a.originalEvent.touches?a.originalEvent.touches[0].pageX:a.originalEvent.pageX,d=a.originalEvent.touches?a.originalEvent.touches[0].pageY:a.originalEvent.pageY,e=b.carouselBody.get(0).style;e.webkitTransitionDuration="0","x"===b.config.direction?(b.movePos=c-b.startPageX+-1*b.activeIndex*b.getWidth(),b.moveLimit=Math.abs(c-b.startPageX),e.webkitTransform="translateX("+b.movePos+"px)",e.msTransform="translateX("+b.movePos+"px)",e.transform="translateX("+b.movePos+"px)"):(b.movePos=d-b.startPageY+-1*b.activeIndex*b.getHeight(),b.moveLimit=Math.abs(d-b.startPageY),e.webkitTransform="translateY("+b.movePos+"px)",e.msTransform="translateY("+b.movePos+"px)",e.transform="translateY("+b.movePos+"px)")}return!1},onEnd:function(a){var b=a.data.me,c=0,d=b.carouselBody.get(0).style;b.moveLimit>30?(b.movePos>0?b.activeIndex=0:Math.abs(b.movePos)>Math.abs(b.endPos)?(b.activeIndex++,b.activeIndex>=b.config.children.length-1&&(b.activeIndex=b.config.children.length-1)):b.activeIndex--,0===b.activeIndex?c=0:b.activeIndex>0&&(c="x"===b.config.direction?b.getWidth()*b.activeIndex*-1:b.getHeight()*b.activeIndex*-1),b.endPos=c):c=b.endPos,d.webkitTransitionDuration=b.config.duration+"ms","x"===b.config.direction?(d.webkitTransform="translateX("+c+"px)",d.msTransform="translateX("+c+"px)",d.transform="translateX("+c+"px)"):(d.webkitTransform="translateY("+c+"px)",d.mozTransform="translateY("+c+"px)",d.transform="translateY("+c+"px)"),b.fireEvent(b,"change",[b,b.activeIndex,b.getActiveView()]),b.carouselBody.off(X.events.move,b.onMove),b.carouselBody.off(X.events.end,b.onEnd),b.dragging=!1},getActiveView:function(){return this.config.children[this.activeIndex]},append:function(a){var b,c=X.util.cm.create(this.carouselBody,[a]);return this.config.children.push(c[0]),c[0].getEl().addClass("ui-carousel-views"),b="x"===this.config.direction?"left":"top",c[0].getEl().css(b,100*(this.config.children.length-1)+"%"),c[0]},remove:function(a){this.config.children[a].destroy(),this.config.children.remove(a)},destroy:function(){X.ui.Carousel.base.destroy.call(this),X.getWindow().off(X.events.orientationchange,this.orientationChange)},next:function(){var a=this.activeIndex+1,b=this.carouselBody.get(0).style;return a===this.config.children.length?!1:(b.webkitTransitionDuration=this.config.duration+"ms",b.msTransitionDuration=this.config.duration+"ms",b.transitionDuration=this.config.duration+"ms","x"===this.config.direction?(b.webkitTransform="translateX("+-1*a*this.getWidth()+"px)",b.msTransform="translateX("+-1*a*this.getWidth()+"px)",b.transform="translateX("+-1*a*this.getWidth()+"px)"):(b.webkitTransform="translateY("+-1*a*this.getHeight()+"px)",b.msTransform="translateY("+-1*a*this.getHeight()+"px)",b.transform="translateY("+-1*a*this.getHeight()+"px)"),this.activeIndex=a,void this.fireEvent(this,"change",[this,this.activeIndex,this.getActiveView()]))},prev:function(){var a=this.activeIndex-1,b=this.carouselBody.get(0).style;return-1===a?!1:(b.webkitTransitionDuration=this.config.duration+"ms",b.msTransitionDuration=this.config.duration+"ms",b.transitionDuration=this.config.duration+"ms","x"===this.config.direction?(b.webkitTransform="translateX("+-1*a*this.getWidth()+"px)",b.msTransform="translateX("+-1*a*this.getWidth()+"px)",b.transform="translateX("+-1*a*this.getWidth()+"px)"):(b.webkitTransform="translateY("+-1*a*this.getHeight()+"px)",b.msTransform="translateY("+-1*a*this.getHeight()+"px)",b.transform="translateY("+-1*a*this.getHeight()+"px)"),this.activeIndex=a,void this.fireEvent(this,"change",[this,this.activeIndex,this.getActiveView()]))}}),X.util.cm.addCString("carousel",X.ui.Carousel),X.ui.ListView=X.extend(X.View,{initialize:function(a){this.config={activeRow:!0,scrollConfig:{direction:"y"}},X.apply(this.config,a),X.ui.ListView.base.initialize.call(this,this.config)},render:function(){X.ui.ListView.base.render.call(this),this.el.addClass("ui-listview"),this.ul=this.body.children(".ui-scrollview-view").children("ul"),this.ul.children("li").addClass("ui-listview-item"),this.ul.on("vclick","li",{me:this},this.rowClick),this.scrollEvent()},scrollEvent:function(){this.scroll.options.onScrollStart=function(){},this.scroll.options.onScrollMove=function(){},this.scroll.options.onAnimationDoing=function(){},this.scroll.options.onScrollEnd=function(){}},rowClick:function(a){var b=a.data.me;b.config.activeRow&&(b.ul.children("li").removeClass("active"),this.className=this.className+" active"),b.fireEvent(b,"rowclick",[b,this])},append:function(a){var b=X.type(a);"string"===b?a=$(a).addClass("ui-listview-item"):"jquery"===b&&a.addClass("ui-listview-item"),this.ul.append(a),this.scrollRefresh()},prepend:function(a){var b=X.type(a);"string"===b?a=$(a).addClass("ui-listview-item"):"jquery"===b&&a.addClass("ui-listview-item"),this.ul.prepend(a),this.scrollRefresh()},replaceWith:function(a,b){var c=X.type(b);"string"===c?b=$(b).addClass("ui-listview-item"):"jquery"===c&&b.addClass("ui-listview-item"),this.ul.children("li:eq("+a+")").replaceWith(b)},remove:function(a){if("number"!==X.type(a))throw new Error("arguments must be number ");this.ul.children("li:eq("+a+")").remove(),this.scrollRefresh()},removeAll:function(){this.ul.children("li").remove(),this.scrollRefresh()}}),X.util.cm.addCString("listview",X.ui.ListView),X.ui.Tabs=X.extend(X.View,{initialize:function(a){this.config={position:"top",activeIndex:0,titles:[],transition:"slide",children:[]},this.config.scroll=!1,X.apply(this.config,a),X.ui.Tabs.base.initialize.call(this,this.config)},render:function(){X.ui.Tabs.base.render.call(this),this.el.addClass("ui-tabs"),this.createTabBar();var a=this.config.activeIndex;this.tabBar.children(".ui-tabs-bar-items").eq(a).addClass("ui-tabs-bar-items-active"),this.activeView=this.config.children[a];for(var b=0,c=this.config.children.length;c>b;b++)b!==a&&this.config.children[b].hide()},createTabBar:function(){this.tabBar=X.util.em.get().addClass("ui-tabs-bar ui-tabs-bar-"+this.config.position);for(var a=this.config.children,b=a.length,c="",d=0;b>d;d++)c+='<div class="ui-tabs-bar-items"><span>'+a[d].config.title+"</span></div>";this.tabBar.html(c),"top"===this.config.position?this.el.prepend(this.tabBar):this.el.append(this.tabBar),this.tabBar.on("vclick",".ui-tabs-bar-items",{me:this},this._click)},_click:function(a){var b=a.data.me,c=$(this),d=c.parent(),e=d.find(".ui-tabs-bar-items").index(c);return d.find(".ui-tabs-bar-items").removeClass("ui-tabs-bar-items-active"),c.addClass("ui-tabs-bar-items-active"),b.change(e),!1},change:function(a){var b=this.getActiveView(),c=this.config.children[a];b!==c&&(b.el.nextAll("#"+c.getId()).length>0?this.right(b,c):this.left(b,c))},transitionStart:function(a,b,c,d){function e(a,b,c,d){var e=function(){var e=b.getEl();e.addClass(c+" in "+d+" ui-transitioning").removeClass("ui-view-hide");var f=a.getEl();f.addClass(c+" out "+d+" ui-transitioning"),"none"!==c?e.animationComplete(g):g()},g=function(){var e=b.getEl();e.removeClass(c+" in "+d+" ui-transitioning");var f=a.getEl();f.removeClass(c+" out "+d+" ui-transitioning"),h()},h=function(){f.resolve(this,[a,b]),a=null,b=null,c=null,d=null};e()}var f=new $.Deferred;return e(a,b,c,d),f},setActiveView:function(a){this.activeView=a},getActiveView:function(){return this.activeView},getActiveViewIndex:function(){for(var a=this.getActiveView(),b=0;b<this.config.children.length;b++)if(a===this.config.children[b])return b},getView:function(a){return this.config.children[a]},right:function(a,b){this.fireEvent(this,"beforechange",[this,this.getActiveView(),this.getActiveViewIndex(),b]);var c=this.transitionStart(a,b,this.config.transition,""),d=this;c.done(function(){a.hide(),d.setActiveView(b),d.fireEvent(d,"afterchange",[d.getActiveView(),d.getActiveViewIndex(),a]),d=null,a=null,b=null})},left:function(a,b){this.fireEvent(this,"beforechange",[this,this.getActiveView(),this.getActiveViewIndex(),b]);var c=this.transitionStart(a,b,this.config.transition,"reverse"),d=this;c.done(function(){a.hide(),d.setActiveView(b),d.fireEvent(d,"afterchange",[d.getActiveView(),d.getActiveViewIndex(),a]),d=null,a=null,b=null})},append:function(a,b){a=X.util.cm.create(this.body,[a]),this.config.children.push(a[0]),a[0].hide();var c=X.util.em.get().addClass("ui-tabs-bar-items").html("<span>"+b+"</span>");return this.tabBar.append(c),[a[0],b]},prepend:function(a,b){a=X.util.cm.create(this.body,[a]),this.config.children=a.concat(this.config.children),a[0].hide(),this.body.prepend(a[0].el);var c=X.util.em.get().addClass("ui-tabs-bar-items").html("<span>"+b+"</span>");return this.tabBar.prepend(c),[a[0],b]},remove:function(a){this.config.children[a].destroy(),this.config.children.remove(a),this.tabBar.children(".ui-tabs-bar-items").eq(a).remove()}}),X.util.cm.addCString("tabs",X.ui.Tabs),X.ui.Toolbar=X.extend(X.util.Observer,{initialize:function(a){this.config={el:null,position:"top",title:null},X.apply(this.config,a);var b={};this.config.listener&&(b=this.config.listener),X.ui.Toolbar.base.initialize.call(this,b),this.config.el||(this.config.el={tag:"div",id:this.config.id}),this.el=X.util.em.get(this.config.el),X.util.cm.get(this.el.get(0).id)||X.util.cm.set(this.el.get(0).id,this),this.config.autoRender&&this.render()},render:function(){this.fireEvent(this,"beforerender",[this]),this.el.addClass("ui-toolbar "+this.config.position),this.inner=X.util.em.get().addClass("ui-toolbar-inner"),this.el.append(this.inner),this.setTitle(this.config.title);var a=this.el.parent();"bottom"===this.config.position?a.append(this.el):a.prepend(this.el),this.fireEvent(this,"afterrender",[this])},setTitle:function(a){return this.title?(this.title.html(a),void this.fireEvent(this,"changetitle",[this,a])):(this.title=X.util.em.get().addClass("ui-toolbar-title"),this.inner.append(this.title),void this.title.html(a))},getTitle:function(){return this.title?this.title.text():void 0},destroy:function(){this.el.remove()}}),X.util.cm.addCString("toolbar",X.ui.Toolbar),X.ui.LayoutView=X.extend(X.View,{initialize:function(a){this.config={minSize:{west:100,east:100,south:50,nouth:50},maxSize:{west:400,east:400,south:150,nouth:150},size:{west:200,east:200,south:100,nouth:100},regions:null,scroll:!1},this.config.scrol=!1,X.apply(!0,this.config,a),this.resizeing=!1,this.region=null,this.spliters={},this.currentResizeing=null,X.ui.LayoutView.base.initialize.call(this,this.config),X.ui.LayoutView.Manager.add(this)},render:function(){X.ui.LayoutView.base.render.call(this),this.el.addClass("ui-layout"),this.contain=X.util.em.get().addClass("ui-layout-contain"),this.body.append(this.contain),this.config.minSize.west>this.config.size.west&&(this.config.size.west=this.config.minSize.west),this.config.minSize.east>this.config.size.east&&(this.config.size.east=this.config.minSize.east),this.config.minSize.south>this.config.size.south&&(this.config.size.south=this.config.minSize.south),this.config.minSize.nouth>this.config.size.nouth&&(this.config.size.nouth=this.config.minSize.nouth),this.createView(),this.maxWidth=this.el.width(),this.maxHeight=this.el.height();for(var a in this.config.regions)"center"!==a&&this.createSpliter(a);this.resizeSplitter(),X.getWindow().on(X.events.orientationchange,{me:this},this.orientationChange)},orientationChange:function(a){var b=a.data.me;b.resizeSplitter(),b.fire(b,"orientationchange",[b])},destroy:function(){X.ui.LayoutView.base.destroy.call(this),X.ui.LayoutView.Manager.remove(this),X.getWindow().off(X.events.orientationchange,this.orientationChange)},createView:function(){var a=[],b=[],c=this.config.regions;for(var d in c)("west"===d||"east"===d)&&(c[d].config.width=this.config.size[d],c[d].config.height=!1,c[d].config.flexible=!1,a.push(c[d])),this[d]=c[d],("south"===d||"nouth"===d)&&(c[d].config.width=!1,c[d].config.height=this.config.size[d],c[d].config.flexible=!1,b.push(c[d]));c.center&&a.push(c.center),X.util.cm.create(this.body,b),c.nouth&&c.nouth.el.insertBefore(this.contain),X.util.cm.create(this.contain,a),c.east&&c.east.el.insertAfter(c.center.el);for(var d in c)c[d].el.addClass("ui-layout-items "+d)},createSpliter:function(a){var b,c=X.util.em.get().addClass("ui-layout-spliter "+a);"west"===a||"east"===a?b="x":("nouth"===a||"south"===a)&&(b="y"),this.spliters[a]=c,this.el.append(c),new X.util.Draggable({el:c,direction:b,scope:this,listener:{start:this.onStart,move:this.onMove,end:this.onEnd},constrain:this.el}),this[a].el.on("webkitTransitionEnd transitionend",{me:this},this.animationEnd)},animationEnd:function(a){var b=a.data.me;return X.ui.LayoutView.Manager.notice(),b.fireEvent(b,"resize",[b]),!1},resizeSplitter:function(){var a=null,b=null,c=null,d=this.spliters.west,e=this.spliters.east,f=this.spliters.nouth,g=this.spliters.south;d&&(a=this.west,b=a.el.position(),c=d.get(0).style,c.height=a.getHeight()+"px",c.top=b.top+"px",c.left=a.getWidth()-10+"px"),e&&(a=this.east,b=a.el.position(),c=e.get(0).style,c.height=a.getHeight()+"px",c.top=b.top+"px",c.left=b.left+"px"),f&&(a=this.nouth,c=f.get(0).style,c.top=a.getHeight()-10+"px"),g&&(a=this.south,b=a.el.position(),c=g.get(0).style,c.top=b.top+"px")},onStart:function(a){var b;b=a.el.hasClass("west")?"west":a.el.hasClass("east")?"east":a.el.hasClass("nouth")?"nouth":"south",this.currentResizeing=b},onMove:function(a,b){if("west"===this.currentResizeing){if(b.r<=this.config.minSize.west||b.r>=this.config.maxSize.west)return!1}else if("east"===this.currentResizeing){var c=this.getWidth()-b.l;if(c<=this.config.minSize.east||c>=this.config.maxSize.east)return!1}else if("nouth"===this.currentResizeing){if(b.b<=this.config.minSize.nouth||b.b>=this.config.maxSize.nouth)return!1}else{var d=this.getHeight()-b.t;if(d<=this.config.minSize.south||d>=this.config.maxSize.south)return!1}},onEnd:function(a,b){var c=0;if("west"===this.currentResizeing)c=b.r<=this.config.minSize.west?this.config.minSize.west:b.r>=this.config.maxSize.west?this.config.maxSize.west:b.r,this.west.setWidth(c);else if("east"===this.currentResizeing){var d=this.getWidth()-b.l;c=d<=this.config.minSize.east?this.config.minSize.east:d>=this.config.maxSize.east?this.config.maxSize.east:d,this.east.setWidth(c)}else if("nouth"===this.currentResizeing)c=b.b<=this.config.minSize.nouth?this.config.minSize.nouth:b.b>=this.config.maxSize.nouth?this.config.maxSize.nouth:b.b,this.nouth.setHeight(c);else{var e=this.getHeight()-b.t;c=e<=this.config.minSize.south?this.config.minSize.south:e>=this.config.maxSize.south?this.config.maxSize.south:e,this.south.setHeight(c)}}}),X.ui.LayoutView.Manager={views:{},add:function(a){var b=a.getId();this.views[b]=a},remove:function(a){var b=a.getId();delete this.views[b]},notice:function(){var a=this.views;for(var b in a)a[b].resizeSplitter()}},X.ui.Form=X.extend(X.util.Observer,{initialize:function(a){this.config={name:null,required:!1,disabled:!1,defaultValue:null,label:null,style:{}},X.apply(this.config,a);var b={};this.config.listener&&(b=this.config.listener),X.ui.Form.base.initialize.call(this,b),this.config.el||(this.config.el={tag:"div",id:this.config.id}),this.el=X.util.em.get(this.config.el),X.util.cm.get(this.el.get(0).id)||X.util.cm.set(this.el.get(0).id,this),this.config.autoRender&&this.render()},render:function(){this.fireEvent(this,"beforerender",[this]),this.el.addClass("ui-form-box"),this.config.label&&this.labelCreate(),this.config.style&&this.el.css(this.config.style),this.formcontin=X.util.em.get().addClass("ui-form-container"),this.el.append(this.formcontin),this.config.disabled&&this.disabled()},getName:function(){return this.config.name},setValue:function(a){this.form.attr("disabled")||(this.form.val(a),this.fireEvent(this,"setvalue",[this,a]))},getValue:function(){return this.form.val()},labelCreate:function(){this.formlabel=X.util.em.get().addClass("ui-form-label").html(this.config.label),this.el.append(this.formlabel)},show:function(){this.el.show(),this.fireEvent(this,"show",[this])},hide:function(){this.el.hide(),this.fireEvent(this,"hide",[this])},toggle:function(){"none"!==this.el.css("display")?this.hide():this.show()},getEl:function(){return this.el},getId:function(){return this.el.attr("id")},disabled:function(){this.el.addClass("ui-disabled"),this.form.attr("disabled",!0),this.fireEvent(this,"disabled",[this])},enabled:function(){this.el.removeClass("ui-disabled"),this.form.attr("disabled",!1),this.fireEvent(this,"enabled",[this])},destroy:function(){this.el.remove()}}),X.ui.FormView=X.extend(X.View,{initialize:function(a){this.config={},X.apply(this.config,a),X.ui.FormView.base.initialize.call(this,this.config)},render:function(){X.ui.FormView.base.render.call(this)},serialize:function(){return $.param(this.getJSON())},getJSON:function(){for(var a={},b=this.config.children,c=b.length,d=0;c>d;d++)a[b[d].getName()||b[d].getId()]=b[d].getValue();return a}}),X.ui.TextBox=X.extend(X.ui.Form,{initialize:function(a){this.config={placeholder:"please..",type:"text"},X.apply(this.config,a),X.ui.TextBox.base.initialize.call(this,this.config)},render:function(){X.ui.TextBox.base.render.call(this),this.el.addClass("ui-textbox"),this.formCreate(),this.form.bind("focus keypress blur keydown keyup",{me:this},this.elementEvent),this.fireEvent(this,"afterrender",[this])},formCreate:function(){this.form=X.util.em.get({tag:"input",type:this.config.type,"class":"ui-text-input",placeholder:this.config.placeholder,disabled:this.config.disabled,value:this.config.defaultValue}),this.formcontin.append(this.form)},setType:function(a){this.form.prop("type",a)},setPlaceholder:function(a){this.config.placeholder=a,this.form.attr("placeholder",a)},elementEvent:function(a){var b=a.data.me,c=b.getValue(),d=a.type;b.fireEvent(b,d,[b,c,a])}}),X.util.cm.addCString("textbox",X.ui.TextBox),X.ui.Slider=X.extend(X.ui.Form,{initialize:function(a){this.config={min:0,max:100,step:1,defaultValue:50,direction:"x",subhandle:!1},X.apply(this.config,a),X.ui.Slider.base.initialize.call(this,this.config)},render:function(){X.ui.Slider.base.render.call(this),this.el.addClass("ui-slider ui-slider-"+this.config.direction),this.formCreate(),this.handleCreate(),this.subHandleCreate(),this.config.disabled&&this.disabled(),this.dragging=!1,this.handle.bind(X.events.start,{me:this},function(a){var b=a.data.me,c=b.el;return c.hasClass("ui-disabled")?!1:(b.dragging=!0,b.subdragging=!1,X.getDoc().on(X.events.move,{me:b},b.onMove),X.getDoc().on(X.events.end,{me:b},b.onEnd),!1)}),this.subhandle&&this.subhandle.bind(X.events.start,{me:this},function(a){var b=a.data.me,c=b.el;return c.hasClass("ui-disabled")?!1:(b.dragging=!0,b.subdragging=!0,X.getDoc().on(X.events.move,{me:b},b.onMove),X.getDoc().on(X.events.end,{me:b},b.onEnd),!1)}),this.setValue(this.config.defaultValue),this.fireEvent(this,"afterrender",[this])},onMove:function(a){var b=a.data.me;return b.dragging?(b.setValue(a),!1):void 0},onEnd:function(a){var b=a.data.me;if(b.dragging){b.dragging=!1;var c=b.getValue();return b.fireEvent(b,"change",[c]),!1}X.getDoc().off(X.events.move,b.onMove),X.getDoc().off(X.events.end,b.onEnd)},formCreate:function(){this.form=X.util.em.get({tag:"input",type:"range","class":"ui-slider-input",required:this.config.required,min:this.config.min,max:this.config.max,step:this.config.step,value:this.config.defaultValue}),this.formcontin.append(this.form)},subHandleCreate:function(){this.config.subhandle&&(this.subhandle=X.util.em.get().addClass("ui-slider-subhandle"),this.formcontin.append(this.subhandle),"object"===X.type(this.config.range)||this.subhandle.addClass("ui-slider-subhandle"))},handleCreate:function(){this.handle=X.util.em.get(!1,!1,"a").addClass("ui-slider-handle"),this.formcontin.append(this.handle),"object"===X.type(this.config.range)&&(this.subhandle=X.util.em.get(!1,!1,"a").addClass("ui-slider-handle ui-slider-subhandle"),this.formcontin.append(this.subhandle))},setValue:function(a){var b,c=this.getMin(),d=this.getMax();if("object"===X.type(a)){var e=a,f=8;if("x"===this.config.direction){var g=this.formcontin.width(),h=this.formcontin.offset().left,i=e.originalEvent.touches?e.originalEvent.touches[0].pageX:e.originalEvent.pageX;if(!this.dragging||h-f>i||i>h+g+f)return;b=Math.round((i-h)/g*100)}if("y"===this.config.direction){var j=this.formcontin.height(),k=this.formcontin.offset().top,l=e.originalEvent.touches?e.originalEvent.touches[0].pageY:e.originalEvent.pageY;if(!this.dragging||k-f>l||l>k+j+f)return;b=Math.round((l-k)/j*100)}}"number"===X.type(a)&&(b=this.percentValue(a));var m=Math.round(b/100*(d-c))+c;if(m=this.trimValue(m),b=this.percentValue(m),this.subdragging){var n=this.handle.data("data");if(n&&(n=parseInt(n),n>m))return}if(!this.subdragging&&this.subhandle){var n=this.subhandle.data("data");if(n){if(n=parseInt(n),m>n)return}else{var o=(this.config.subhandle-c)/(d-c)*100,p=Math.round(o/100*(d-c))+c;"x"===this.config.direction?this.subhandle.css("left",o+"%").data("data",p):this.subhandle.css("top",o+"%").data("data",p)}}"x"===this.config.direction&&(this.subdragging?this.subhandle.css("left",b+"%").data("data",m):this.handle.css("left",b+"%").data("data",m)),"y"===this.config.direction&&(this.subdragging?this.subhandle.css("top",b+"%").data("data",m):this.handle.css("top",b+"%").data("data",m)),this.fireEvent(this,"change",[this,b,m])},trimValue:function(a){var b=this.getMin(),c=this.getMax();if(b>=a)return b;if(a>=c)return c;var d=this.config.step>0?this.config.step:1,e=(a-b)%d,f=a-e;return 2*Math.abs(e)>=d&&(f+=e>0?d:-d),parseFloat(f.toFixed(5))},percentValue:function(a){var b=this.getMin(),c=this.getMax(),d=(parseFloat(a)-b)/(c-b)*100;return isNaN(d)?0:(0>d&&(d=0),d>100&&(d=100),d)},getValue:function(){return this.subhandle?[this.handle.data("data"),this.subhandle.data("data")]:this.handle.data("data")},disabled:function(){this.el.addClass("ui-disabled"),this.handle.addClass("ui-disabled"),this.subhandle&&this.subhandle.addClass("ui-disabled"),this.form.attr("disabled",!0),this.fireEvent(this,"disabled",[this])},enabled:function(){this.el.removeClass("ui-disabled"),this.handle.removeClass("ui-disabled"),this.subhandle&&this.subhandle.removeClass("ui-disabled"),this.form.attr("disabled",!1),this.fireEvent(this,"enabled",[this])},setMin:function(a){this.config.min=a},setMax:function(a){this.config.max=a},getMin:function(){return this.config.min},getMax:function(){return this.config.max}}),X.util.cm.addCString("slider",X.ui.Slider),X.ui.Spinner=X.extend(X.ui.Form,{initialize:function(a){this.config={min:0,max:100,step:1,defaultValue:0},X.apply(this.config,a),X.ui.Spinner.base.initialize.call(this,this.config)},render:function(){X.ui.Spinner.base.render.call(this),this.el.addClass("ui-spinner").width(this.config.width),this.formCreate(),this.handleCreate(),this.fireEvent(this,"afterrender",[])},formCreate:function(){this.form=X.util.em.get({tag:"input",type:"number",min:this.config.min,max:this.config.max,value:this.config.defaultValue,step:this.config.step}),this.formcontin.append(this.form),this.form.bind("change",{me:this},this._change)},_change:function(a){var b=a.data.me,c=parseFloat(b.form.val(),10)||0;c<b.config.min?(c=b.config.min,b.form.val(c)):c>b.config.max&&(c=b.config.max,b.form.val(c)),b.fireEvent(b,"change",[b,c])},handleCreate:function(){var a=X.util.em.get().html("+").addClass("ui-spinner-btn ui-spinner-plus");this.formcontin.append(a);var b=X.util.em.get().html("-").addClass("ui-spinner-btn ui-spinner-minus");this.formcontin.append(b),a.on(X.events.start,{me:this},this.plus),b.on(X.events.start,{me:this},this.minus)},end:function(a){var b=a.data.me;return b.clearTimer(),!1},clearTimer:function(){this.interval&&(window.clearInterval(this.interval),this.interval=null,X.getDoc().off(X.events.end,this.end))},timer:function(a,b){if(!this.interval){var c=this;this.interval=window.setInterval(function(){c[b](a)},100),X.getDoc().on(X.events.end,{me:this},this.end)}},plus:function(a){var b=a.data.me,c=parseFloat(b.form.val(),10)||0,d=c+b.config.step;return d>b.config.max&&(d=b.config.max),d=parseFloat(d.toFixed(1),10),b.form.val(d),b.timer(a,"plus"),!1},minus:function(a){var b=a.data.me,c=parseFloat(b.form.val(),10)||0,d=c-b.config.step;return d<b.config.min&&(d=b.config.min),d=parseFloat(d.toFixed(1),10),b.form.val(d),b.timer(a,"minus"),!1},setValue:function(a){this.el.hasClass("ui-disabled")||(a||(a=0),a<this.config.min&&(a=this.config.min),a>this.config.max&&(a=this.config.max),this.form.val(a),this.fireEvent(this,"change",[this,a]))},setMax:function(a){this.config.max=a,this.form.attr("max",a)},setMin:function(a){this.config.min=a,this.form.attr("min",a)},getMax:function(){return this.config.max},getMin:function(){return this.config.min},setStep:function(a){this.config.step=a,this.form.attr("step",a)}}),X.util.cm.addCString("spinner",X.ui.Spinner),X.ui.Progressbar=X.extend(X.ui.Form,{initialize:function(a){this.config={max:100,defaultValue:0},X.apply(this.config,a),X.ui.Progressbar.base.initialize.call(this,this.config)},render:function(){X.ui.Progressbar.base.render.call(this),this.el.addClass("ui-progressbar"),this.formCreate(),this.setValue(this.config.defaultValue),this.fireEvent(this,"afterrender",[this])},formCreate:function(){this.form=X.util.em.get({tag:"progress","class":"ui-progress",max:this.config.max,value:this.config.defaultValue}),this.gauge=X.util.em.get().addClass("ui-progress-gauge"),this.bar=X.util.em.get().addClass("ui-progress-bar"),this.formcontin.append(this.gauge,this.bar),this.formcontin.append(this.form)},setValue:function(a){if(!this.el.hasClass("ui-disabled")){var b=this.el.width(),c=b/this.config.max*a;isNaN(c)||(c>b&&(c=b),0>a&&(a=0),a>this.config.max&&(a=this.config.max),this.form.val(a),this.gauge.width(c),this.fireEvent(this,"update",[this,a]))}},setMax:function(a){this.config.max=a},getMax:function(){return this.config.max}}),X.util.cm.addCString("progressbar",X.ui.Progressbar),X.ui.SwitchBox=X.extend(X.ui.Form,{initialize:function(a){this.config={checked:!1,on:"ON",off:"OFF"},X.apply(this.config,a),X.ui.SwitchBox.base.initialize.call(this,this.config)},render:function(){X.ui.SwitchBox.base.render.call(this),this.el.addClass("ui-switchbox").width(this.config.width),this.formCreate(),this.handle=X.util.em.get().addClass("ui-switchbox-handle"),this.text=X.util.em.get({tag:"span"}).addClass("ui-switchbox-text"),this.formcontin.append(this.text).append(this.handle),this.formcontin.on("vclick",{me:this},this._change),this.el.addClass(this.config.checked?"on":"off"),this.setText(),this.config.disabled&&this.disabled(),this.fireEvent(this,"afterrender",[this])},formCreate:function(){this.form=X.util.em.get({tag:"input",type:"checkbox",checked:this.config.checked}).hide(),this.formcontin.append(this.form)},_change:function(a){{var b=a.data.me;b.el}return b.el.hasClass("on")?b.unchecked():b.checked(),!1},setOn:function(a){this.config.on=a,this.setText()},setOff:function(a){this.config.off=a,this.setText()},setText:function(){var a;a=this.el.hasClass("on")?this.config.on:this.config.off,this.text.html(a)},toggleChecked:function(){this.el.hasClass("on")?this.unchecked():this.checked()},checked:function(){this.el.hasClass("ui-disabled")||(this.el.removeClass("off").addClass("on"),this.setText(),this.form.attr("checked",!0),this.fireEvent(this,"change",[this,!0]))},unchecked:function(){this.el.hasClass("ui-disabled")||(this.el.removeClass("on").addClass("off"),this.setText(),this.form.attr("checked",!1),this.fireEvent(this,"change",[this,!1]))},getValue:function(){return this.form.is(":checked")}}),X.util.cm.addCString("switchbox",X.ui.SwitchBox),function(){function a(a,b){var d=$("<meta />");d.attr("name",a),d.attr("content",b),c.eq(0).append(d)}function b(a,b,d){var e=$("<link />");e.attr("rel",a),e.attr("href",b),d&&e.setAttribute("sizes",d+"x"+d),c.eq(0).append(e)}var c=$("head");X.App=function(c){var d={id:"Application",icon:null,iconsize:null,splash:null,viewport:!0,fullscreen:!0,statusbar:null,ready:null,initialScale:1,maximumScale:1,minimumScale:1,userScalable:"no",targetDensityDpi:"device-dpi"};c=X.apply(d,c),c.viewport&&a("viewport","initial-scale="+d.initialScale+", maximum-scale="+d.maximumScale+", minimum-scale="+d.minimumScale+", user-scalable="+d.userScalable+", target-densitydpi="+d.targetDensityDpi),c.fullscreen&&(a("apple-mobile-web-app-capable","yes"),a("apple-touch-fullscreen","yes")),c.statusbar&&a("apple-mobile-web-app-status-bar-style",c.statusbar),c.splash&&b("apple-touch-startup-image",c.splash),c.icon&&b("apple-touch-icon",c.icon,c.iconsize),X.getDoc().ready(function(){var a={id:c.id,el:"body",autoSize:!0,autoRender:!0,scroll:!1};
a=X.apply(a,c.viewConfig),X.App.View=new X.View(a),X.getDoc().on("vclick","a",{view:X.App.View},function(){{var a,b,c=$(this),d=c.attr("href"),e=c.data("transition")||"slide",f=c.data("history")===!1?!1:!0,g=c.data("back");c.attr("rel")}if(d)return d.match(/^tel\:/)?!0:(a=c.parents(".ui-view"),a.each(function(){var a=this.id,c=X.util.cm.get(a);return b=c.getViewController(),b?!1:void 0}),b?g&&"#"===d?(b.backPage(),!1):"#"!==d&&g?(b.prevPage({url:d}),!1):"#"!==d&&d?(b.nextPage({url:d,transition:e,history:f}),!1):!0:!1)}),c.ready&&c.ready(X.App.View),c=null,X.getDoc().bind("orientationchange",function(){return!1})})},X.getApp=function(){return X.App.View?X.App.View:null}}();